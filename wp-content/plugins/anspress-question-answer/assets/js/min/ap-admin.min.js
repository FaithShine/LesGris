jQuery(function(){APjs.admin=new APjs.admin,APjs.admin.initialize()}),window.APjs={},APjs.admin=function(){},function(a){APjs.admin.prototype={initialize:function(){this.renameTaxo(),this.editPoints(),this.savePoints(),this.deleteFlag(),this.ajaxBtn()},renameTaxo:function(){jQuery(".ap-rename-taxo").click(function(a){return a.preventDefault(),jQuery.ajax({url:ajaxurl,data:{action:"ap_taxo_rename"},context:this,success:function(a){jQuery(this).closest(".error").remove(),location.reload()}}),!1})},editPoints:function(){jQuery(".wp-admin").on("click",'[data-action="ap-edit-reputation"]',function(a){a.preventDefault();var b=jQuery(this).attr("href");jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"ap_edit_reputation",id:b},context:this,dataType:"json",success:function(a){a.status&&(jQuery("#ap-reputation-edit").remove(),jQuery("#anspress-reputation-table").hide(),jQuery("#anspress-reputation-table").after(a.html))}})})},savePoints:function(){jQuery(".wp-admin").on("submit",'[data-action="ap-save-reputation"]',function(a){a.preventDefault(),jQuery(".button-primary",this).attr("disabled","disabled");jQuery(this).attr("href");return jQuery.ajax({type:"POST",url:ajaxurl,cache:!1,data:jQuery(this).serialize({checkboxesAsBools:!0}),context:this,dataType:"json",success:function(a){a.status&&jQuery(".wrap").empty().html(a.html)}}),!1})},deleteFlag:function(){jQuery('[data-action="ap-delete-flag"]').click(function(a){a.preventDefault(),jQuery.ajax({type:"POST",url:ajaxurl,data:jQuery(this).attr("href"),context:this,success:function(a){jQuery(this).closest(".flag-item").remove()}})})},ajaxBtn:function(){a(".ap-ajax-btn").on("click",function(b){b.preventDefault();var c=a(this).apAjaxQueryString();a.ajax({url:ajaxurl,data:c,context:this,type:"POST",success:function(b){if("undefined"!=typeof a(this).data("cb")){var c=a(this).data("cb");"function"==typeof APjs.admin[c]&&APjs.admin[c](b,this)}}})})},replaceText:function(b,c){a(c).closest("li").find("strong").text(b)}}}(jQuery),jQuery(document).ready(function(a){a("#select-question-for-answer").on("keyup",function(){""!=a.trim(a(this).val())&&a.ajax({type:"POST",url:ajaxurl,data:{action:"ap_ajax",ap_ajax_action:"suggest_similar_questions",value:a(this).val(),is_admin:!0},success:function(b){var c=a(b).filter("#ap-response").html();"undefined"!=typeof c&&c.length>2&&(b=JSON.parse(c)),console.log(b),"undefined"!=typeof b.html&&a("#similar_suggestions").html(b.html)},context:this})}),a('[data-action="ap_media_uplaod"]').click(function(b){b.preventDefault(),$btn=a(this);var c=wp.media({title:a(this).data("title"),multiple:!1}).open().on("select",function(b){var d=c.state().get("selection").first(),e=d.toJSON().url,f=d.toJSON().id;a($btn.data("urlc")).val(e),a($btn.data("idc")).val(f),a($btn.data("urlc")).prev().is("img")?a($btn.data("urlc")).prev().attr("src",e):a($btn.data("urlc")).before('<img id="ap_category_media_preview" src="'+e+'" />')})}),a('[data-action="ap_media_remove"]').click(function(b){b.preventDefault(),a('input[data-action="ap_media_value"]').val(""),a('img[data-action="ap_media_value"]').remove()}),a(".checkall").click(function(){var b=a(this).closest(".ap-tools-ck").find('input[type="checkbox"]:not(.checkall)');b.prop("checked",a(this).prop("checked"))}),a("#"+a("#ap-tools-selectroles").val()).slideDown(),a("#ap-tools-selectroles").change(function(){var b="#"+a(this).val();a(".ap-tools-roleitem").hide(),a(b).fadeIn(300)})}),window.onload=function(){if("undefined"!=typeof questionChartData){var a=document.getElementById("question-chart").getContext("2d");window.myHorizontalBar=new Chart(a,{type:"doughnut",data:questionChartData,options:{legend:{display:!1},scales:{xAxes:[{ticks:{display:!1}}],yAxes:[{ticks:{display:!1}}]}}})}if("undefined"!=typeof answerChartData){var b=document.getElementById("answer-chart").getContext("2d");window.myHorizontalBar=new Chart(b,{type:"doughnut",data:answerChartData,options:{legend:{display:!1},scales:{xAxes:[{ticks:{display:!1}}],yAxes:[{ticks:{display:!1}}]}}})}if("undefined"!=typeof latestanswerChartData){var c=document.getElementById("latestanswer-chart").getContext("2d");window.latestanswer=new Chart(c,{type:"line",data:latestanswerChartData,options:{legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}})}if("undefined"!=typeof latestquestionChartData){var d=document.getElementById("latestquestion-chart").getContext("2d");window.latestquestion=new Chart(d,{type:"line",data:latestquestionChartData,options:{legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}}})}};
//# sourceMappingURL=ap-admin.min.js.map